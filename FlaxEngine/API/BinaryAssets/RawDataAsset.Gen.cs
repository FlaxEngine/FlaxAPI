// Copyright (c) 2012-2020 Wojciech Figat. All rights reserved.
// This code was generated by a tool. Changes to this file may cause
// incorrect behavior and will be lost if the code is regenerated.

using System;
using System.ComponentModel;
using System.Runtime.CompilerServices;

namespace FlaxEngine
{
    /// <summary>
    /// Raw bytes container asset.
    /// </summary>
    public sealed partial class RawDataAsset : BinaryAsset
    {
        /// <summary>
        /// Creates new <see cref="RawDataAsset"/> object.
        /// </summary>
        private RawDataAsset() : base()
        {
        }

        /// <summary>
        /// Gets or sets the bytes array stored by this data container asset.
        /// </summary>
        [UnmanagedCall]
        public byte[] Data
        {
#if UNIT_TEST_COMPILANT
            get; set;
#else
            get { return Internal_GetData(unmanagedPtr); }
            set { Internal_SetData(unmanagedPtr, value); }
#endif
        }

        /// <summary>
        /// Saves asset to the file. Supported only in Editor.
        /// </summary>
        /// <param name="path">The custom asset path to use for the saving. Use empty value to save this asset to its own storage location. Can be used to duplicate asset. Must be specified when saving virtual asset.</param>
        /// <returns>True if cannot save data, otherwise false.</returns>
#if UNIT_TEST_COMPILANT
        [Obsolete("Unit tests, don't support methods calls.")]
#endif
        [UnmanagedCall]
        public bool Save(string path = null)
        {
#if UNIT_TEST_COMPILANT
            throw new NotImplementedException("Unit tests, don't support methods calls. Only properties can be get or set.");
#else
            return Internal_Save(unmanagedPtr, path);
#endif
        }

        #region Internal Calls

#if !UNIT_TEST_COMPILANT
        [MethodImpl(MethodImplOptions.InternalCall)]
        internal static extern byte[] Internal_GetData(IntPtr obj);

        [MethodImpl(MethodImplOptions.InternalCall)]
        internal static extern void Internal_SetData(IntPtr obj, byte[] val);

        [MethodImpl(MethodImplOptions.InternalCall)]
        internal static extern bool Internal_Save(IntPtr obj, string path);
#endif

        #endregion
    }
}
